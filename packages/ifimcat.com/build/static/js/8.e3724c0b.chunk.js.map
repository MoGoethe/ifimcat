{"version":3,"sources":["components/grid/RowContext.js","components/grid/row.js","components/grid/col.js","queries/index.js","components/container/index.js","modules/navigation/index.js","modules/footer/index.js","config/index.js","components/loading/index.js","components/sticky/index.js","components/listEmpty/index.js","modules/classifyScreen/index.js","modules/classifyList/index.js","modules/classifyProfile/index.js","views/category/index.js"],"names":["RowContext","createContext","Row","props","className","style","width","gutter","rest","cls","classNames","x","y","margin","Provider","value","children","Col","useContext","pull","push","colSpan","styles","padding","Q_NAVIGATION","gql","Q_HOME","Q_CATEGORY","Q_TAG","Q_TOPIC","Q_GETBLOGBYKEY","Q_SEARCH","M_CATEGORY","M_TAG","M_TOPIC","M_ARTICLE","Container","containerStyle","mainStyle","fullScreen","Navigation","useQuery","data","useState","keywords","setKeywords","history","useHistory","search","onClick","getCategories","map","category","index","key","href","name","type","onChange","e","target","placeholder","onKeyDown","keyCode","Footer","classnames","rel","SORTRULES","BANNERBGCOLOR","PICTURECOUNT","LoadingBar","Sticky","top","undefined","ListEmpty","title","description","ClassifyScreen","test","pinyin","STYLE_NORMAL","join","toLocaleLowerCase","src","alt","ClassifyList","length","article","id","tags","tag","i","awesome","glance","ClassifyProfile","author","slogan","subname","username","email","CategoryPage","params","useParams","variables","loading","useMutation","getCategory","updateData","useEffect","timer","setTimeout","clearTimeout","blogs"],"mappings":"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","file":"static/js/8.e3724c0b.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nconst RowContext = createContext({});\n\nexport default RowContext;","import React from \"react\";\nimport classNames from \"classnames\";\nimport RowContext from \"./RowContext\";\nimport \"./index.scss\";\n\nexport function Row(props) {\n  const {\n    className,       // 自定义类名\n    style = {},        // 自定义样式\n    width,           // 宽度\n    gutter,          // 间隔 [左右间隔， 上下间隔]\n    ...rest          // 其他自定义属性\n  } = props;\n\n  const cls = classNames('if-row', className);\n\n  if (width) {\n    style.width = `${width}px`;\n  }\n\n  if (gutter) {\n    const x = gutter[0] || 0;\n    const y = gutter[1] || 0;\n    style.margin = `-${y / 2}px -${x / 2}px ${y / 2}px`\n  }\n\n  return (\n    <RowContext.Provider value={gutter}>\n      <div className={cls} style={style} {...rest}>\n        {props.children}\n      </div>\n    </RowContext.Provider>\n  )\n}","import React, { useContext } from \"react\";\nimport classNames from \"classnames\";\nimport RowContext from \"./RowContext\";\nimport \"./index.scss\";\n\nexport function Col(props) {\n  const gutter = useContext(RowContext);\n  const {\n    className,       // 自定义类名\n    style,           // 自定义样式\n    width,           // 宽度 \n    pull,            // 左间隔 以栅格数为单位\n    push,            // 右间隔 以删格数为单位\n    colSpan,         // 宽度，最大值为24，栅格为24栅格\n    ...rest          // 自定义其他属性\n  } = props;\n  const cls = classNames('if-col', {\n    [`if-col-${colSpan}`]: colSpan,\n    [`if-col--push-${push}`]: push,\n    [`if-col--pull-${pull}`]: pull,\n  }, className);\n  const styles = {\n    ...style,\n    width: `${width}px`,\n  };\n\n  if (gutter) {\n    const x = gutter[0] || 0;\n    const y = gutter[1] || 0;\n    styles.padding = `${y / 2}px ${x / 2}px`;\n  }\n\n  return (\n    <div className={cls} style={styles} {...rest}>\n      {props.children}\n    </div>\n  )\n}","import gql from 'graphql-tag';\n\n// 导航\nexport const Q_NAVIGATION = gql`\n  query {\n    getCategories {\n      key\n      name\n      blogs{\n        key\n        title\n      }\n    }\n  }\n`\n\n// 首页接口\nexport const Q_HOME = gql`\n  query {\n    getBlogs {\n      id\n      key\n      title\n      tags{\n        key\n        name\n      }\n    }\n    getTags {\n      key\n      name\n    }\n    getTopics {\n      key\n      name\n    }\n    getCategories {\n      key\n      name\n      blogs {\n        id\n        key\n        title\n      }\n    }\n  }\n`;\n\n// category page\nexport const Q_CATEGORY = gql`\n  query($key: String!) {\n    getCategory(key: $key){\n      id\n      key\n      name\n      slogan\n      description\n      glance\n      blogs {\n        id\n        key\n        title\n        glance\n        awesome\n        tags{\n          id\n          key\n          name\n        }\n      }\n      author {\n        email\n        username\n      }\n    }\n  }\n`;\n\n// tag page\nexport const Q_TAG = gql`\n  query($key: String!) {\n    getTag(key: $key){\n      id\n      key\n      name\n      slogan\n      description\n      glance\n      blogs {\n        id\n        key\n        title\n        glance\n        awesome\n        tags{\n          id\n          key\n          name\n        }\n      }\n      author {\n        email\n        username\n      }\n    }\n  }\n`;\n\n// topic page\nexport const Q_TOPIC = gql`\n  query($key: String!) {\n    getTopic(key: $key){\n      id\n      key\n      name\n      slogan\n      description\n      glance\n      blogs {\n        id\n        key\n        title\n        glance\n        awesome\n        tags{\n          id\n          key\n          name\n        }\n      }\n      author {\n        email\n        username\n      }\n    }\n  }\n`;\n\n// 通过key获取博客详情\nexport const Q_GETBLOGBYKEY = gql `\n  query($key: String!) {\n    getBlogByKey(key: $key){\n      id\n      key\n      title\n      description\n      body\n      draft\n      tags {\n        id\n        key\n        name\n      }\n      topic {\n        id\n        key\n        name\n      }\n      category {\n        id\n        key\n        name\n      }\n      author{\n        username\n      }\n      createAt\n      awesome\n      glance\n      is_show\n    }\n  }\n`;\n\n// 关键字搜索\nexport const Q_SEARCH = gql`\n  query($keywords: String!) {\n    getBlogByKeywords(keywords: $keywords){\n      id\n      key\n      title\n      tags {\n        id\n        key\n        name\n      }\n    }\n  }\n`;\n\n// 浏览次数 + 1\nexport const M_CATEGORY = gql`\n  mutation($data: UpdateCategoryInput!) {\n    updateCategory(data: $data) {\n      id\n      name\n      slogan\n      description\n      glance\n    }\n  }\n`;\nexport const M_TAG = gql`\n  mutation($data: UpdateTagInput!) {\n    updateTag(data: $data) {\n      id\n      name\n      slogan\n      description\n      glance\n    }\n  }\n`;\nexport const M_TOPIC = gql`\n  mutation($data: UpdateTopicInput!) {\n    updateTopic(data: $data) {\n      id\n      name\n      slogan\n      description\n      glance\n    }\n  }\n`;\n\nexport const M_ARTICLE = gql`\n  mutation($data: UpdateBlogInput!) {\n    updateBlog(data: $data) {\n      id\n      awesome\n      glance\n    }\n  }\n`;\n\n\n\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport \"./index.scss\";\n\nexport function Container(props) {\n  const {\n    className,\n    containerStyle,\n    mainStyle,\n    fullScreen\n  } = props;\n  const cls = classNames(\"if-container\", className, {\n    \"if-container--fullScreen\": fullScreen\n  });\n\n  return (\n    <div className={cls} style={containerStyle}>\n      <div className=\"if-container-main\" style={mainStyle}>\n        {props.children}\n      </div>\n    </div>\n  )\n}","import React, { useState } from \"react\";\nimport { useHistory } from 'react-router-dom';\nimport classNames from \"classnames\";\nimport { useQuery } from '@apollo/react-hooks';\nimport { Q_NAVIGATION } from \"../../queries\";\nimport \"./index.scss\";\n// import {\n//   categories\n// } from \"../../mock\";\n\nexport function Navigation(props) {\n\n  const {\n    className,\n    ...rest\n  } = props;\n  const cls = classNames(\"if-navigation\", className);\n  const { data = {} } = useQuery(Q_NAVIGATION);\n\n  const [keywords, setKeywords] = useState(\"\");\n  const history = useHistory();\n\n  const search = () => {\n    history.push(`/search?keywords=${keywords}`);\n  }\n  const onEnter = e => {\n    if (e.keyCode === 13) {\n      search();\n    }\n  }\n\n  return (\n    <div className={cls} {...rest}>\n      <div className=\"if-navigation--left\">\n        <span className=\"if-navigation__logo\" onClick={() => history.push(`/`)}>Ifimcat.com</span>\n        <div className=\"if-navigation-nav\">\n          {\n            data.getCategories && data.getCategories.map((category, index) => (\n              <a\n                key={`category--${index}`}\n                className=\"if-navigation-item\"\n                href={`/category/${category.key}`}\n              >{category.name}</a>\n            ))\n          }\n        </div>\n      </div>\n      <div className=\"if-navigation--right\">\n        <div className=\"if-navigation-search\">\n          <input\n            type=\"text\"\n            className=\"if-navigation-search__input\"\n            onChange={e => setKeywords(e.target.value)}\n            placeholder=\"keywords\"\n            value={keywords}\n            onKeyDown={onEnter}\n          />\n          <button className=\"if-navigation-search__btn\" onClick={search}></button>\n        </div>\n      </div>\n    </div>\n  )\n};\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport {\n  Row,\n  Col\n} from \"../../components/grid\";\nimport \"./index.scss\";\n\nexport function Footer(props) {\n  \n  const {\n    className,\n    ...rest\n  } = props;\n\n  const cls = classnames(\"if-footer\", className);\n\n  return (\n    <div className={cls} {...rest}>\n      <Row>\n        <Col colSpan={8}>\n          <div className=\"if-footer-info\">\n            Made with ♥ remotely from\n            <a href=\"https://github.com/MoGoethe/\" target=\"_blank\" rel=\"noopener noreferrer\"> MoGoethe</a>\n          </div>\n        </Col>\n        <Col colSpan={8}>\n          <div className=\"if-footer-info\">\n            Copyright © 2020-2022 Ifimcat.com. |\n            <a href=\"https://beian.miit.gov.cn/\" target=\"_blank\" rel=\"noopener noreferrer\"> 粤ICP备17044077号</a>\n          </div>\n        </Col>\n        <Col colSpan={8}>\n          <div className=\"if-footer-info\"><b>20,248 </b> articles in ifimcat</div>\n        </Col>\n      </Row>\n    </div>\n  )\n}\n","// host\n// export const HOST = 'http://ifimcat.com';\nexport const HOST = 'http://localhost:8009';\n\n// 文章配图资源\nexport const ASSET_SOURCE_URL = 'http://ifimcat.com/assets/article/a.jpg';\n\n// 文章排列顺序\nexport const SORTRULES = [16, 8, 8, 8, 8, 16, 8, 8, 8, 8, 16, 8, 8, 8, 8, 16, 8, 8, 8, 8];\n\n// banner 背景色配置\nexport const BANNERBGCOLOR = [\n  \"#43d8c9\",\n  \"#035aa6\",\n  \"#f6d743\",\n  \"#21bf73\"\n];\n\nexport const PICTURECOUNT = 50;","import React from \"react\";\nimport \"./index.scss\"\n\nexport function LoadingBar(props) {\n\n  return (\n    <div className=\"loading-bar\">\n      <div className=\"light\"></div>\n    </div>\n  )\n}","import React from \"react\";\nimport \"./index.scss\";\n\nexport function Sticky(props) {\n\n  const {\n    style = {},\n    top = 0,\n    ...rest\n  } = props;\n\n  const styles = { ...style };\n  if (top !== undefined) {\n    styles.top = top + 'px';\n  }\n\n  return (\n    <div className=\"if-sticky\" style={styles} {...rest}>\n      {props.children}\n    </div>\n  )\n}","import React from \"react\";\nimport \"./index.scss\";\n\nexport function ListEmpty(props) {\n\n  const {\n    title,\n    description\n  } = props;\n\n  return (\n    <div className=\"if-listEmpty\">\n      <div className=\"if-listEmpty__title\">{title}</div>\n      <div className=\"if-listEmpty__description\">{description}</div>\n    </div>\n  )\n}","import React from \"react\";\nimport pinyin from \"pinyin\";\nimport \"./index.scss\";\n\nexport function ClassifyScreen(props) {\n\n  const {\n    data={},\n    ...rest\n  } = props;\n  const regexp = /^[\\u4e00-\\u9fa5]/ig;\n  let name = data.name || '';\n  if (regexp.test(data.name)) {\n    name = pinyin(data.name, {\n      style: pinyin.STYLE_NORMAL\n    }).join('');\n  }\n  name = name.toLocaleLowerCase();\n  return (\n    <div className=\"if-classifyScreen\" {...rest}>\n      <div className=\"if-classifyScreen-left\">\n        <img src={`/assets/logos/${name}.svg`} className=\"if-classifyScreen__icon\" alt={data.name}/>\n      </div>\n      <div className=\"if-classifyScreen-right\">\n        <h3 className=\"if-classifyScreen__title\">{data.name}</h3>\n        <p className=\"if-classifyScreen__description\">{data.description}</p>\n      </div>\n    </div>\n  )\n}","import React from \"react\";\nimport { ListEmpty } from \"../../components/listEmpty\";\nimport { PICTURECOUNT } from \"../../config\";\nimport \"./index.scss\";\n\nexport function ClassifyList(props) {\n\n  const {\n    data = [],\n    ...rest\n  } = props;\n\n  if (!data.length) {\n    return <ListEmpty\n      title=\"List Empty\"      \n      description=\"Sorry, but nothing matched your search terms. Please try again with some different keywords.\"\n    />\n  }\n\n  return (\n    <div {...rest} className=\"if-classifyList\">\n      {\n        data.map((article, index) => (\n          <div className=\"if-classifyList-item\" key={`if-classifyList--${index}`}>\n            <div className=\"if-classifyList-left\">\n              <div className=\"if-classifyList-overview\">\n                <img src={`/assets/illustrations/illu-${article.id % PICTURECOUNT}.jpg`} alt={article.title} />\n              </div>\n            </div>\n            <div className=\"if-classifyList-right\">\n              <h4 className=\"if-classifyList__title\" title={article.title}><a href={`/article/${article.key}`}>{article.title}</a></h4>\n              <p className=\"if-classifyList-tags\">\n                {\n                  (article.tags || []).map((tag, i) => (\n                    <a href={`/tag/${tag.key}`} key={`if-classifyList-tag--${i}`}>{tag.name}</a>\n                  ))\n                }\n              </p>\n              <p className=\"if-classifyList-info\">\n                <span className=\"if-classifyList__info if-classifyList__awesome\">{article.awesome}</span>\n                <span className=\"if-classifyList__info if-classifyList__glance\">{article.glance}</span>\n              </p>\n            </div>\n          </div>\n        ))\n      }\n    </div>\n  )\n}","import React from \"react\";\nimport pinyin from \"pinyin\";\nimport \"./index.scss\";\n\nexport function ClassifyProfile(props) {\n\n  const {\n    data = {},\n    ...rest\n  } = props;\n\n  const { author } = data;\n  const regexp = /^[\\u4e00-\\u9fa5]/ig;\n  let name = data.name || '';\n  if (regexp.test(data.name)) {\n    name = pinyin(data.name, {\n      style: pinyin.STYLE_NORMAL\n    }).join('');\n  }\n  name = name.toLocaleLowerCase();\n\n  return (\n    <div {...rest} className=\"if-classifyProfile\">\n      <div className=\"if-classifyProfile-info\">\n        <img src={`/assets/logos/${name}-rect.svg`} className=\"if-classifyProfile-info__img\" alt={data.name} />\n        <div className=\"if-classifyProfile-info__solgan\">{data.slogan}</div>\n      </div>\n      <div className=\"if-classifyProfile-text p-b-4n\">{data.subname}</div>\n      <div className=\"if-classifyProfile-text\">\n        浏览次数 <br /> <span>{data.glance}</span>\n      </div>\n      <div className=\"if-classifyProfile-text\">\n        创建者 <br /> <span>{author && author.username}</span>\n      </div>\n      <div className=\"if-classifyProfile-text\">\n        联系方式 <br /> <span>{author && author.email}</span>\n      </div>\n    </div>\n  )\n}","import React, { Fragment, useEffect } from \"react\";\nimport { useParams } from 'react-router-dom';\nimport { Container } from \"../../components/container\";\nimport {\n  Row,\n  Col\n} from \"../../components/grid\";\nimport { Sticky } from \"../../components/sticky\";\nimport { Navigation } from \"../../modules/navigation\";\nimport { ClassifyScreen } from \"../../modules/classifyScreen\";\nimport { ClassifyList } from \"../../modules/classifyList\";\nimport { ClassifyProfile } from \"../../modules/classifyProfile\";\nimport { Footer } from \"../../modules/footer\";\nimport { LoadingBar } from \"../../components/loading\";\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { Q_CATEGORY, M_CATEGORY } from \"../../queries\";\n\nfunction CategoryPage() {\n  const params = useParams();\n  const { data = {}, loading } = useQuery(Q_CATEGORY, {\n    variables: { key: params.key}\n  });\n\n  const [updateData] = useMutation(M_CATEGORY, {\n    variables: {\n      data: {\n        id: data.getCategory?.id,\n        glance: data.getCategory?.glance + 1,\n      }\n    }\n  });\n\n  useEffect(() => {\n    const timer = setTimeout(updateData, 5000);\n    return () => {\n      clearTimeout(timer);\n    }\n  }, [updateData])\n\n\n  if (loading) {\n    return <LoadingBar />\n  }\n\n  return (\n    <Fragment>\n      <Container className=\"classify-page\">\n        <Navigation />\n        <ClassifyScreen data={data.getCategory} />\n      </Container>\n      <Container className=\"p-b-12n\">\n        <Row gutter={[32, 0]} className=\"p-t-8n p-b-8n\">\n          <Col colSpan={18}>\n            <ClassifyList data={data.getCategory?.blogs} />\n          </Col>\n          <Col colSpan={6}>\n            <Sticky top={24}>\n              <ClassifyProfile data={data.getCategory} />\n            </Sticky>\n          </Col>\n        </Row>\n      </Container>\n      <Container>\n        <Footer />\n      </Container>\n    </Fragment>\n  )\n};\n\nexport default CategoryPage;"],"sourceRoot":""}